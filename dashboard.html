<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Dashboard - Buktiku</title>
</head>
<body style="font-family:Arial; text-align:center; margin-top:80px;">

  <h2>Dashboard</h2>

  <img id="photo" width="100" style="border-radius:50%"><br><br>
  <h3 id="name"></h3>
  <p id="email"></p>

  <button id="logoutBtn">Logout</button>

  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/12.9.0/firebase-app.js";
    import { 
      getAuth, 
      onAuthStateChanged, 
      signOut 
    } from "https://www.gstatic.com/firebasejs/12.9.0/firebase-auth.js";

    const firebaseConfig = {
      apiKey: "AIzaSyBIaTx9x1_yz5N6t0uBp2eTc7tIBhMLRQA",
      authDomain: "buktiku-6e36b.firebaseapp.com",
      projectId: "buktiku-6e36b",
      storageBucket: "buktiku-6e36b.firebasestorage.app",
      messagingSenderId: "864927339878",
      appId: "1:864927339878:web:e11a53ac31e63c098c64a7"
    };

    const app = initializeApp(firebaseConfig);
    const auth = getAuth(app);

    // Cek Login
    onAuthStateChanged(auth, (user) => {
      if (user) {
        document.getElementById("name").innerText = user.displayName;
        document.getElementById("email").innerText = user.email;
        document.getElementById("photo").src = user.photoURL;
      } else {
        window.location.href = "index.html";
      }
    });

    // Logout
    document.getElementById("logoutBtn").addEventListener("click", () => {
      signOut(auth).then(() => {
        window.location.href = "index.html";
      });
    });
  </script>

</body>
</html>